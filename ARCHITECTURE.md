# Play Framework Scala Todoアプリケーションアーキテクチャ

## 1. 全体構造

このアプリケーションはPlay Frameworkを使用したMVCアーキテクチャに基づいています。

```
+-------------------+      +-------------------+      +-------------------+
|                   |      |                   |      |                   |
|  Controllers      +----->+  Services         +----->+  Repositories     |
|                   |      |                   |      |                   |
+-------------------+      +-------------------+      +-------------------+
        ^                                                      |
        |                                                      |
        |                                                      v
+-------------------+                              +-------------------+
|                   |                              |                   |
|  Views            |                              |  Database         |
|                   |                              |                   |
+-------------------+                              +-------------------+
```

## 2. 主要コンポーネント

### 各レイヤーの役割
- **モデル**（`app/models/Todo.model.scala`）: アプリケーションのデータ構造を定義
- **リポジトリ**（`app/models/Todo.repository.scala`）: データアクセス操作を抽象化
- **サービス**（`app/models/Todo.service.scala`）: ビジネスロジックを実装
- **データベース**（`app/databases/todo/Todo.database.scala`）: 実際のデータベース操作を実装

### コントローラ層
- **コントローラ**（`app/controllers/HomeController.scala`）: HTTPリクエストを処理し、適切なレスポンスを返す

### ビュー層
- **ビューテンプレート**（`todo.scala.html`, `index.scala.html`など）: ユーザーインターフェースを定義

### 設定
- **ルーティング**（`routes`）: URLとコントローラのアクションをマッピング
- **アプリケーション設定**（`application.conf`）: アプリケーションの設定を管理

## 3. 依存関係の注入

PlayFrameworkのデフォルト機能である依存性注入（DI）を使用して、コンポーネント間の疎結合を実現しています。

例:
```scala
class TodoService @Inject() (todoRepository: TodoRepository) { ... }
```

## 4. データフロー

1. ユーザーがブラウザからリクエストを送信
2. `routes`ファイルが適切なコントローラのアクションにマッピング
3. コントローラがサービス層を呼び出し
4. サービス層がビジネスロジックを実行し、必要に応じてリポジトリを呼び出し
5. リポジトリがデータベース操作を実行
6. 結果がコントローラに返され、適切なビューでレンダリングされてユーザーに表示

## 5. フロントエンド

- **JavaScript**（`todo.js`など）: クライアントサイドのロジック
- **CSS**（`todo.css`など）: スタイリング

## 6. 技術スタック

- **バックエンド**: Scala, Play Framework
- **フロントエンド**: HTML, CSS, JavaScript
- **ビルドツール**: sbt
- **テンプレートエンジン**: Twirl

このアーキテクチャは関心の分離を実現し、コードの保守性と拡張性を高めています。
